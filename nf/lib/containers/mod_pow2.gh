#ifndef _MOD_POW2_INCLUDED_
#define _MOD_POW2_INCLUDED_

#include "modulo.gh"
#include <nat.gh>

lemma void mod_bitand_equiv(int k, int capacity, nat m);
    requires    0 <= k &*& k < pow_nat(2, N32) &*& 0 < capacity &*& capacity < INT_MAX &*& capacity == pow_nat(2, m) &*& int_of_nat(m) < 32;
    ensures     (k % capacity) == (k & (capacity - 1)) &*& (k % capacity) == loop_fp(k, capacity);

#endif //_MOD_POW2_GH_INCLUDED_
