server: kernel version 3.14 , gcc version 4.8.5 , need lua 5.1 and luasocket

download MoonRoute from here https://github.com/emmericp/MoonRoute-data

cd /code/MoonGen


edit CMakeCache.txt and replace every occurance of "/home/rainer/ma/MoonGen" (hardcoded path..) by your own path


run sudo ./build.sh

make

the MoonGen executable should be there.


now for running the router....

bind the Nic using the modules provided in MoonRoute/code/MoonGen/deps/dpdk/x86_64-native-linuxapp-gcc/kmod
do:

cd  MoonRoute/code/MoonGen/deps/dpdk/x86_64-native-linuxapp-gcc/kmod
sudo modprobe uio
sudo insmod igb_uio.ko


how to run the router

simply run ./MoonGen  ../MoonRoute/router.lua  the maximum number of entries can be modified in rte_lpm.h found in MoonGen/deps/dpdk...
